{% load static %}
{% load headerdata %}
{% headerdata request as headerdatas %}
<!--  Tip 1: You can change the color of the sidebar using: data-color="blue | green | orange | red"  -->
<div class="sidebar-wrapper" style="width: 100%; height: 100%; background-color: rgba(84, 39, 95, 20); opacity:60%">
    <div class=""
        style="display: flex; flex-direction: column; justify-content:flex-start;">
        <div class="profile-photo" style="justify-content: center; align-items: center;">
            <a href="/profile/{{request.user.id}}">
                <img class="avatar" style="width:100%" src="{% if headerdatas.profile.image %} {% static headerdatas.profile.image %} {% else %} {% static 'img/anime3.png' %}{% endif %}" alt="Profile Photo">
                <h5 class="title" style="text-align: center; font-size: large; padding: auto;">
                    {{ request.user.username }} 
                </h5>
            </a>
            <p class="description" style="text-align: center; font-size: large; padding: auto;">
                You are welcome
            </p>

        </div>
        <div>
            <ul class="nav">
                <li class="{% if 'dashboard' in segment %} active {% endif %} ">
                    <a href="/dashboard">
                        <i class="tim-icons icon-istanbul"></i>
                        <p>Dashboard</p>
                    </a>
                </li>
                <li id="sidebar_posts" class="sidebar_dropdown_trigger {% if 'posts' in segment %} active {% endif %}">
                    <a href="/posts">
                        <i class="tim-icons icon-align-left-2"></i>
                        <p>Posts</p>
                    </a>
                </li>
                <div id="sidebar_posts"  style="display:none" class="sidebar_dropdown_content">
                    <p>Add a Post</p>
                </div>
                 <li class="{% if 'comments' in segment %} active {% endif %}">
                    <a href="/comments">
                        <i class="tim-icons icon-notes"></i>
                        <p>Comments</p>
                    </a>
                </li>

                <li class="{% if 'profile' in segment %} active {% endif %}">
                    <a href="/profile">
                        <i class="tim-icons icon-single-02"></i>
                        <p>Your Profile</p>
                    </a>
                </li>
                <li id="sidebar_media" class="sidebar_dropdown_trigger {% if 'media' in segment %} active {% endif %}">
                    <a href="/media">
                        <i class="tim-icons icon-atom"></i>
                        <p>Media</p>
                    </a>
                </li>
                <div id="sidebar_media"  style="display:none" class="sidebar_dropdown_content">
                    <p>Add a Media</p>
                </div>
                <li>
                    <a href="{% url 'logout' %}">
                        <i class="tim-icons icon-button-power"></i>
                        <p>Logout</p>
                    </a>
                </li>
            </ul>
        </div>
    </div>
</div>
<script>
    $(document).ready(function(){
        var El_sidebarDropdownContent = document.querySelector(".sidebar_dropdown_content").style.display = "none"
        var El_sidebarDropdownTrigger = document.querySelector(".sidebar_dropdown_trigger");
        El_sidebarDropdownTrigger.addEventListener("focus", ()=>{
            var id = this.id;
            El_sidebarDropdownContent = document.querySelector("#{id}").style.display = "block"
        })
    })
</script>